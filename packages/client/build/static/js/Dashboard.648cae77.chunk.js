(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{377:function(e,t,a){"use strict";a.r(t);var n=a(209);a.d(t,"default",(function(){return n.a}))},378:function(e,t,a){"use strict";a.r(t),a.d(t,"Dashboard",(function(){return Ce}));var n=a(0),o=a(31),i=a(34),c=a(446),r=a.n(c),s=a(47),l=a(16),d=a(142),u=a(423),b=a(371),j=a(59),m=a.n(j),v=a(443),h=a(418),O=a(145),f=a(49),y=a(464),p=a.n(y),x=a(447),g=a.n(x),C=a(417),w=a(143),_=a(448),M=a.n(_),k=a(1),S=function(e){var t,a,c,r,s,b=e.symbolObj,j=e.shown,m=Object(o.useLazyQuery)(i.q,{variables:{symbol:b.symbol}}),v=Object(l.a)(m,2),h=v[0],y=v[1],p=y.data,x=y.loading,g=y.error;if(Object(n.useEffect)((function(){j&&h()}),[j]),!j)return Object(k.jsx)(k.Fragment,{});var C="";return((null===p||void 0===p||null===(t=p.getDailyChangeIndicator)||void 0===t?void 0:t.sum)||0)>0&&(C=O.a.A700),((null===p||void 0===p||null===(a=p.getDailyChangeIndicator)||void 0===a?void 0:a.sum)||0)<0&&(C=w.a.A700),Object(k.jsxs)("div",{children:[x&&Object(k.jsx)("div",{children:"Daily changes loading..."}),!x&&!g&&p&&Object(k.jsxs)("div",{className:M.a.dailyChangesTable,children:[null===p||void 0===p||null===(c=p.getDailyChangeIndicator)||void 0===c||null===(r=c.days)||void 0===r?void 0:r.map((function(e){var t="";return((null===e||void 0===e?void 0:e.value)||0)>0&&(t=O.a.A700),((null===e||void 0===e?void 0:e.value)||0)<0&&(t=w.a.A700),Object(k.jsxs)(u.a,{children:[Object(k.jsx)(u.a,{color:d.a[500],children:null===e||void 0===e?void 0:e.date}),Object(k.jsx)(u.a,{color:t,children:Object(k.jsx)(f.b,{value:((null===e||void 0===e?void 0:e.value)||0)/100,style:"percent",minimumFractionDigits:2})})]},null===e||void 0===e?void 0:e.date)})),Object(k.jsx)(u.a,{color:C,className:M.a.percentageSum,border:1,borderColor:d.a[300],children:Object(k.jsx)("b",{children:Object(k.jsx)(f.b,{value:((null===p||void 0===p||null===(s=p.getDailyChangeIndicator)||void 0===s?void 0:s.sum)||0)/100,style:"percent",minimumFractionDigits:2})})})]})]})},D=a(40),P=a(433),N=a.n(P),L=a(434),T=a.n(L),z=a(450),E=a.n(z),H=function(e){var t=e.symbol,a=!1,c=Object(n.useState)(void 0),r=Object(l.a)(c,2),s=r[0],d=r[1],u=Object(n.useState)(),b=Object(l.a)(u,2),j=b[0],m=b[1],v=Object(n.useState)(!1),h=Object(l.a)(v,2),O=(h[0],h[1]),f=Object(o.useLazyQuery)(i.u,{fetchPolicy:"network-only"}),y=Object(l.a)(f,2),p=y[0],x=y[1],g=x.data,C=x.loading,w=x.error,_=Object(o.useSubscription)(i.y,{variables:{symbol:t}}),M=Object(n.useCallback)((function(){var e=new Date;e.setDate(e.getDate()+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0);var a=new Date(e);a.setDate(e.getDate()-1),a.setHours(-4),p({variables:{symbol:t,range:"5",timestampFrom:a.getTime(),timestampTo:e.getTime()}})}),[p,t]);return Object(n.useEffect)((function(){var e=new Date;e.setDate(e.getDate()+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0);var t=new Date(e);t.setDate(e.getDate()-1),t.setHours(-4);var a=new Date;a.setHours(15),a.setMinutes(30),a.setSeconds(0),a.setMilliseconds(0);var n=new Date(a);n.setHours(22),n.setMinutes(0);var o=new Date(n);o.setDate(o.getDate()-1);var i=new Date;i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0);var c=new Date(i);c.setHours(2),c.setMinutes(0);var r=new Date(i);r.setHours(10),r.setMinutes(0);var s={chart:{renderTo:"container",panning:{enabled:!0,type:"xy"}},title:{text:"".concat(t.toLocaleString()," - ").concat(e.toLocaleString())},time:{timezoneOffset:t.getTimezoneOffset(),useUTC:!0},series:[{lineWidth:1,type:"spline",data:[]}],xAxis:{type:"datetime",plotLines:[{value:i.getTime(),color:"black",dashStyle:"shortdash",width:1,zIndex:1},{value:o.getTime(),color:"red",dashStyle:"shortdash",width:1,zIndex:1},{value:c.getTime(),color:"orange",dashStyle:"shortdash",width:1,zIndex:1},{value:r.getTime(),color:"orange",dashStyle:"shortdash",width:1,zIndex:1},{value:a.getTime(),color:"blue",dashStyle:"shortdash",width:1,zIndex:1},{value:n.getTime(),color:"red",dashStyle:"shortdash",width:1,zIndex:1}]}};d(s),M()}),[]),Object(n.useEffect)((function(){j&&(a||(a=!0,j.container.addEventListener("wheel",(function(e){e.stopPropagation(),e.preventDefault(),j.showResetZoom();var t=100/e.target.getBoundingClientRect().width*e.clientX,a=Math.sign(e.deltaY),n=j.xAxis[0].getExtremes(),o=j.yAxis[0].getExtremes(),i=(n.max-n.min)/100*20;if(a<0){var c=i/100*(100-t),r=i/100*t,s=n.min+r,l=n.max-c;s=Math.max(s,n.dataMin-(n.dataMax-n.dataMin)/2),l=Math.min(l,n.dataMax+(n.dataMax-n.dataMin)/2),j.xAxis[0].setExtremes(s,l)}else{var d=n.min-i,u=n.max+i;if(d=Math.max(d,n.dataMin-(n.dataMax-n.dataMin)/2),u=Math.min(u,n.dataMax+(n.dataMax-n.dataMin)/2),j.xAxis[0].setExtremes(d,u),o){var b=(o.dataMax-o.dataMin)/100*10;j.yAxis[0].setExtremes(o.dataMin-b,o.dataMax+b)}}}))))}),[null===j||void 0===j?void 0:j.container]),Object(n.useEffect)((function(){if(!C&&g&&!w&&j){var e,t,a=null===(e=g.getPrices)||void 0===e||null===(t=e.priceArray)||void 0===t?void 0:t.map((function(e){return[null===e||void 0===e?void 0:e.timestamp,null===e||void 0===e?void 0:e.price]}));a&&(j.series[0].setData(a,!0,!1,!1),O(!0))}}),[g,C,w,j]),Object(n.useEffect)((function(){var e;if(j&&(null===(e=_.data)||void 0===e?void 0:e.lastPrice)){var t,a,n,o,i=60*Math.floor((null===(t=_.data)||void 0===t?void 0:t.lastPrice.timestamp)/1e3/60)*1e3,c=!1,r=(null===(a=j.series[0])||void 0===a||null===(n=a.options)||void 0===n?void 0:n.data)||[];if(Array.isArray(r)&&r.length){var s,l=r[r.length-1];if(l[0]===i)l[1]=null===(s=_.data)||void 0===s?void 0:s.lastPrice.price,c=!0}if(!c)r.push([i,null===(o=_.data)||void 0===o?void 0:o.lastPrice.price]),c=!0;c&&j.series[0].setData(Object(D.a)(r),!0,!1,!0)}}),[j,_.data]),Object(k.jsxs)("div",{className:E.a.container,children:[C&&Object(k.jsx)("div",{children:"Loading chart..."}),!w&&!C&&g&&Object(k.jsx)(T.a,{highcharts:N.a,options:s,callback:m})]})},I=function(e){var t=e.symbolObj,a=e.shown,o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],r=i[1],s=Object(n.useCallback)((function(){r(!0)}),[c,r]);return Object(n.useEffect)((function(){!a&&c&&r(!1)}),[a,c]),Object(k.jsx)(k.Fragment,{children:a&&Object(k.jsxs)(u.a,{p:1,bgcolor:d.a[50],children:[Object(k.jsx)(S,{symbolObj:t,shown:a}),Object(k.jsxs)(u.a,{mt:2,children:[!c&&Object(k.jsx)(C.a,{color:"primary",onClick:s,children:"Show chart"}),c&&Object(k.jsx)(H,{symbol:t.symbol})]})]})})},Q=new Date;Q.setDate(Q.getDate()+1),Q.setHours(0),Q.setMinutes(0),Q.setSeconds(0);var A=new Date(Q);A.setDate(Q.getDate()-1),A.setHours(A.getHours()-4);var V=new Date;V.setHours(15),V.setMinutes(30),V.setSeconds(0),V.setMilliseconds(0);var F=new Date(V);F.setHours(22),F.setMinutes(0);var R=new Date(F);R.setDate(R.getDate()-1);var W=new Date;W.setHours(0),W.setMinutes(0),W.setSeconds(0),W.setMilliseconds(0);var q=new Date(W);q.setDate(q.getDate()+1);var B=new Date(W);B.setHours(1),B.setMinutes(45);var Y=new Date(B);Y.setDate(Y.getDate()+1);var U=new Date(W);U.setHours(10),U.setMinutes(0);var G={chart:{height:50,margin:0},time:{timezoneOffset:A.getTimezoneOffset(),useUTC:!0},plotOptions:{series:{enableMouseTracking:!1,marker:{enabled:!1}},line:{marker:{states:{hover:{marker:{enabled:!1}}},hover:{marker:{enabled:!1}}}}},series:[{lineWidth:1,type:"spline",data:[],allowPointSelect:!1,description:void 0,name:void 0,selected:!1,showInLegend:!1,showInNavigator:!1,skipKeyboardNavigation:!0,line:{marker:{enabled:!1}}}],navigator:{enabled:!1},title:{text:void 0},legend:{enabled:!1},tooltip:{enabled:!1},xAxis:{type:"datetime",visible:!0,min:R.getTime()-36e5,max:Y.getTime()+36e5,plotLines:[{value:W.getTime(),color:"black",dashStyle:"shortdash",width:1,zIndex:1},{value:q.getTime(),color:"black",dashStyle:"shortdash",width:1,zIndex:1},{value:R.getTime(),color:"red",dashStyle:"shortdash",width:1,zIndex:1},{value:B.getTime(),color:"orange",dashStyle:"shortdash",width:1,zIndex:1},{value:Y.getTime(),color:"orange",dashStyle:"shortdash",width:1,zIndex:1},{value:U.getTime(),color:"blue",dashStyle:"shortdash",width:1,zIndex:1},{value:V.getTime(),color:"green",dashStyle:"shortdash",width:1,zIndex:1},{value:F.getTime(),color:"red",dashStyle:"shortdash",width:1,zIndex:1}]},yAxis:{visible:!1}},K=function(e){var t=e.lastPrice,a=(e.previousClose,e.openPrice,e.symbol),c=e.lastPriceTimestamp,r=e.forceRefreshTrigger,s=Object(n.useState)(),d=Object(l.a)(s,2),u=d[0],b=d[1],j=Object(o.useQuery)(i.u,{variables:{symbol:a,range:"30",timestampFrom:A.getTime(),timestampTo:Q.getTime()}});return Object(n.useEffect)((function(){j.refetch()}),[j.refetch,r]),Object(n.useEffect)((function(){if(!j.loading&&j.data&&!j.error&&u){var e,t,a=null===(e=j.data.getPrices)||void 0===e||null===(t=e.priceArray)||void 0===t?void 0:t.map((function(e){return[null===e||void 0===e?void 0:e.timestamp,null===e||void 0===e?void 0:e.price]}));a&&u.series[0].setData(a,!0,!1,!0)}}),[j,u]),Object(n.useEffect)((function(){if(u&&c&&t){var e,a,n=5*Math.floor(c/1e3/60/5)*60*1e3,o=!1,i=(null===(e=u.series[0])||void 0===e||null===(a=e.options)||void 0===a?void 0:a.data)||[];if(Array.isArray(i)&&i.length){var r=i[i.length-1];r[0]===n&&(r[1]=t,o=!0)}o||(i.push([n,t]),o=!0),o&&u.series[0].setData(Object(D.a)(i),!0,!1,!0)}}),[u,t,c,a]),{timestamp:c||-1,price:t||-1},Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(T.a,{highcharts:N.a,options:G,callback:b})})},$=a(29),J=a(461),Z=a(343),X=a(452),ee=a.n(X),te=a(463),ae=a.n(te),ne=a(25),oe=a(451),ie=a.n(oe),ce=function(e){var t,a,c=e.symbolObj,r=Object(o.useMutation)(i.h,{fetchPolicy:"no-cache",refetchQueries:[{query:i.r}]}),s=Object(l.a)(r,1)[0],j=Object(o.useMutation)(i.D,{fetchPolicy:"no-cache",refetchQueries:[{query:i.r}]}),m=Object(l.a)(j,1)[0],v=Object(o.useQuery)(i.r),h=v.data,O=(v.loading,v.error,Object(n.useRef)(null)),f=Object(n.useState)(!1),y=Object(l.a)(f,2),p=y[0],x=y[1],g=Object($.b)(),C=Object(n.useMemo)((function(){var e,t,a=new Set;return(null===h||void 0===h||null===(e=h.getDashboard)||void 0===e||null===(t=e.watchlists)||void 0===t?void 0:t.length)&&h.getDashboard.watchlists.forEach((function(e){var t;(null===e||void 0===e||null===(t=e.symbols)||void 0===t?void 0:t.includes(c.symbol))&&a.add(e._id)})),a}),[h,c]),w=Object(n.useCallback)((function(e,t){return function(){s({variables:{symbol:c.symbol,watchlist:e,add:t}})}}),[c]),_=Object(n.useCallback)((function(){x(!p)}),[p]),M=Object(n.useCallback)((function(){x(!1)}),[x]);Object(n.useEffect)((function(){p?window.addEventListener("mousedown",M):window.removeEventListener("mousedown",M)}),[p,M]);var S=Object(n.useCallback)((function(){var e=g.getValues().newWatchlist;e&&s({variables:{symbol:c.symbol,watchlist:e,add:!0}}),x(!1)}),[g,c]),D=Object(n.useCallback)((function(){m({variables:{symbol:c.symbol}})}),[m,c]),P=Object(n.useCallback)((function(e){return C.has(e)}),[C]),N=Object(n.useCallback)((function(e){e.stopPropagation()}),[]);return Object(k.jsxs)("div",{className:ie.a.flags,children:[Object(k.jsx)(b.a,{onClick:_,children:Object(k.jsx)(ee.a,{style:{color:d.a[500]}})}),p&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:ie.a.floatingContainer,ref:O,onMouseDown:N,children:Object(k.jsx)(u.a,{p:3,border:1,borderColor:d.a[300],children:Object(k.jsx)("table",{children:Object(k.jsxs)("tbody",{children:[null===h||void 0===h||null===(t=h.getDashboard)||void 0===t||null===(a=t.watchlists)||void 0===a?void 0:a.map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:null===e||void 0===e?void 0:e.name}),Object(k.jsx)("td",{children:Object(k.jsx)(J.a,{checked:P(null===e||void 0===e?void 0:e._id),name:null===e||void 0===e?void 0:e.name,color:"primary",onChange:w((null===e||void 0===e?void 0:e.name)||"",!P(null===e||void 0===e?void 0:e._id))})})]},null===e||void 0===e?void 0:e.name)})),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)(ne.b,{form:g,name:"newWatchlist",placeholder:"New watchlist"})}),Object(k.jsx)("td",{children:Object(k.jsx)(b.a,{onClick:S,children:Object(k.jsx)(Z.a,{color:"primary"})})})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)("span",{children:"Complete remove:"})}),Object(k.jsx)("td",{children:Object(k.jsx)(b.a,{onClick:D,children:Object(k.jsx)(ae.a,{})})})]})]})})})})})]})},re=a(74),se=a(453),le=a.n(se),de=function(e){var t,a=e.symbol,c=Object(n.useRef)(null),r=Object(n.useState)(!1),s=Object(l.a)(r,2),j=s[0],m=s[1],v=Object($.b)(),h=Object(o.useLazyQuery)(i.v,{fetchPolicy:"network-only"}),O=Object(l.a)(h,2),f=O[0],y=O[1],p=Object(o.useMutation)(i.J,{fetchPolicy:"no-cache",refetchQueries:[{query:i.v,variables:{symbol:a}}]}),x=Object(l.a)(p,1)[0],g=Object(o.useMutation)(i.B,{fetchPolicy:"no-cache",refetchQueries:[{query:i.v,variables:{symbol:a}}]}),C=Object(l.a)(g,1)[0];Object(n.useEffect)((function(){j&&f({variables:{symbol:a}})}),[j,f]);var w=Object(n.useCallback)((function(){m(!j)}),[j]),_=Object(n.useCallback)((function(){m(!1)}),[m]);Object(n.useEffect)((function(){j?window.addEventListener("mousedown",_):window.removeEventListener("mousedown",_)}),[j,_]);var M=Object(n.useCallback)((function(e){e.stopPropagation()}),[]),S=Object(n.useCallback)((function(){var e=v.getValues().targetPrice;e&&(_(),x({variables:{symbol:a,targetPrice:parseFloat(e)}}))}),[x,_]),D=Object(n.useCallback)((function(e){return function(){e&&(_(),C({variables:{id:e}}))}}),[C]);return Object(k.jsxs)("div",{className:le.a.flags,children:[Object(k.jsx)(b.a,{onClick:w,children:Object(k.jsx)(re.i,{style:{color:d.a[500]}})}),j&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:le.a.floatingContainer,ref:c,onMouseDown:M,children:Object(k.jsx)(u.a,{p:3,border:1,borderColor:d.a[300],children:Object(k.jsx)("table",{children:Object(k.jsxs)("tbody",{children:[null===(t=y.data)||void 0===t?void 0:t.getPriceAlerts.map((function(e){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:null===e||void 0===e?void 0:e.targetPrice}),Object(k.jsx)("td",{children:Object(k.jsx)(b.a,{onClick:D(null===e||void 0===e?void 0:e._id),children:Object(k.jsx)(re.c,{color:"primary"})})})]},e._id)})),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)(ne.b,{form:v,name:"targetPrice",placeholder:"Target price"})}),Object(k.jsx)("td",{children:Object(k.jsx)(b.a,{onClick:S,children:Object(k.jsx)(re.k,{color:"primary"})})})]})]})})})})})]})},ue=function(e){var t,a,c,r,j=e.symbol,y=Object(n.useState)(!1),x=Object(l.a)(y,2),C=x[0],w=x[1],_=Object(n.useState)(Date.now()),M=Object(l.a)(_,2),S=M[0],D=M[1],P=Object(n.useState)(""),N=Object(l.a)(P,2),L=N[0],T=N[1],z=Object(o.useSubscription)(i.y,{variables:{symbol:j.symbol}}),E=z.data,H=z.loading,Q=z.error,A=Object(o.useQuery)(i.w,{variables:{symbol:j.symbol}});Object(n.useEffect)((function(){A.refetch()}),[S,A.refetch]);var V=Object(n.useCallback)((function(){w(!C)}),[C]),F=Object(n.useMemo)((function(){var e=Number.NaN,t=Number.NaN,a=Number.NaN;return!A.error&&!A.loading&&A.data&&A.data.getQuote&&(e=A.data.getQuote.currentPrice,t=A.data.getQuote.previousClose),Q||H||!E||(T((new Date).toLocaleTimeString()),e=E.lastPrice.price),e!==Number.NaN&&t!==Number.NaN&&(a=100/t*e-100),a}),[A,E,H,Q]),R=Object(n.useCallback)((function(){console.log("refreshData"),D(Date.now())}),[D]),W=Object(n.useMemo)((function(){var e,t,a,n,o,i,c,r,s,l;return T((new Date).toLocaleTimeString()),{openPrice:(null===(e=A.data)||void 0===e||null===(t=e.getQuote)||void 0===t?void 0:t.openPrice)||Number.NaN,highPrice:(null===(a=A.data)||void 0===a||null===(n=a.getQuote)||void 0===n?void 0:n.highPrice)||Number.NaN,lowPrice:(null===(o=A.data)||void 0===o||null===(i=o.getQuote)||void 0===i?void 0:i.lowPrice)||Number.NaN,currentPrice:(null===(c=A.data)||void 0===c||null===(r=c.getQuote)||void 0===r?void 0:r.currentPrice)||Number.NaN,previousClose:(null===(s=A.data)||void 0===s||null===(l=s.getQuote)||void 0===l?void 0:l.previousClose)||Number.NaN}}),[A]);return Object(k.jsxs)("div",{className:g.a.container,children:[Object(k.jsxs)("div",{className:g.a.header,children:[Object(k.jsxs)(u.a,{className:g.a.symbolCell,onClick:V,children:[Object(k.jsx)("div",{className:g.a.symbol,children:j.displaySymbol}),Object(k.jsx)("div",{className:g.a.description,children:j.description})]}),Object(k.jsx)(u.a,{className:g.a.rocketIcon,children:Object(k.jsx)(v.a,{children:F>7&&Object(k.jsx)(p.a,{style:{color:O.a[500]}})})}),Object(k.jsx)(u.a,{mr:3,className:m()(g.a.percentageGain,(t={},Object(s.a)(t,g.a.up,F>0),Object(s.a)(t,g.a.down,F<0),t)),children:Object(k.jsx)(f.b,{value:F/100,style:"percent",minimumFractionDigits:2})}),Object(k.jsx)(u.a,{className:g.a.chart,mr:3,children:Object(k.jsx)(K,{symbol:j.symbol,previousClose:W.previousClose,openPrice:W.openPrice,lastPrice:null===E||void 0===E||null===(a=E.lastPrice)||void 0===a?void 0:a.price,lastPriceTimestamp:null===E||void 0===E||null===(c=E.lastPrice)||void 0===c?void 0:c.timestamp,forceRefreshTrigger:S})}),Object(k.jsx)(u.a,{className:g.a.openPrice,mr:3,bgcolor:d.a[100],p:1,children:Object(k.jsx)(f.b,{value:W.previousClose})}),Object(k.jsx)(u.a,{className:g.a.openPrice,mr:3,bgcolor:d.a[100],p:1,children:Object(k.jsx)(f.b,{value:W.openPrice})}),Object(k.jsx)(u.a,{className:g.a.currentPrice,mr:3,bgcolor:d.a[100],p:1,children:Object(k.jsx)(f.b,{value:(null===E||void 0===E||null===(r=E.lastPrice)||void 0===r?void 0:r.price)||W.currentPrice})}),Object(k.jsx)(u.a,{children:Object(k.jsx)(ce,{symbolObj:j})}),Object(k.jsx)(u.a,{children:Object(k.jsx)(de,{symbol:j.symbol})}),Object(k.jsx)(u.a,{children:Object(k.jsx)(h.a,{title:L,children:Object(k.jsx)(b.a,{onClick:R,children:Object(k.jsx)(re.j,{})})})})]}),Object(k.jsx)(I,{symbolObj:j,shown:C})]})},be=function(e){var t=e.watchlist,a=Object(n.useState)(!1),c=Object(l.a)(a,2),r=c[0],s=c[1],b=Object(o.useMutation)(i.i,{fetchPolicy:"no-cache",refetchQueries:[{query:i.r}]}),j=Object(l.a)(b,1)[0],m=Object($.b)({defaultValues:{name:t.name}}),v=Object(n.useCallback)((function(){var e=m.getValues();e.name&&(j({variables:{id:t._id,name:e.name}}),m.reset(),s(!1))}),[t._id,m]),h=Object(n.useCallback)((function(e){"Escape"===e.key?(m.reset(),s(!1)):"Enter"===e.key&&setTimeout(v,0)}),[s]),O=Object(n.useCallback)((function(e){s(e)}),[s]);return Object(k.jsxs)(k.Fragment,{children:[!r&&Object(k.jsx)(u.a,{color:d.a[600],onClick:O,children:t.name}),r&&Object(k.jsx)(u.a,{children:Object(k.jsx)(ne.b,{autoFocus:!0,form:m,name:"name",onBlur:v,onKeyUp:h,placeholder:"Search symbol"})})]})},je=a(454),me=a.n(je),ve=function(e){var t=e.watchlist,a=Object(n.useState)(!!t.hidden),c=Object(l.a)(a,2),r=c[0],j=c[1],v=Object(n.useState)(!0),h=Object(l.a)(v,2),O=h[0],f=(h[1],Object(o.useMutation)(i.i,{fetchPolicy:"no-cache",refetchQueries:[{query:i.r}]})),y=Object(l.a)(f,1)[0],p=Object(n.useMemo)((function(){var e;return(null===t||void 0===t||null===(e=t.symbolsData)||void 0===e?void 0:e.length)?t.symbolsData.slice().sort((function(e,t){return e&&t?e.symbol.localeCompare(t.symbol):0})).map((function(e){return e?Object(k.jsx)(ue,{symbol:e},null===e||void 0===e?void 0:e.symbol):Object(k.jsx)(k.Fragment,{})})):Object(k.jsx)(k.Fragment,{})}),[t]),x=Object(n.useCallback)((function(){var e=!r;j(e),y({variables:{id:t._id,hidden:e}})}),[r,j,y,t._id]);return Object(k.jsxs)(u.a,{mb:3,p:4,className:me.a.box,children:[Object(k.jsxs)(u.a,{className:me.a.header,children:[Object(k.jsx)(u.a,{color:d.a[600],children:Object(k.jsx)(b.a,{onClick:x,children:r?Object(k.jsx)(re.o,{}):Object(k.jsx)(re.n,{})})}),Object(k.jsx)(be,{watchlist:t})]}),Object(k.jsx)("div",{className:m()(me.a.symbols,Object(s.a)({},me.a.hidden,r)),children:O&&p})]})},he=a(372),Oe=a(439),fe=a(415),ye=a(455),pe=a.n(ye),xe=a(178),ge=function(e){var t=e.watchlists,a=Object(n.useState)(""),c=Object(l.a)(a,2),r=c[0],s=c[1],b=Object(o.useMutation)(i.F,{fetchPolicy:"no-cache",refetchQueries:[{query:i.r}]}),j=Object(l.a)(b,1)[0],m=Object(n.useCallback)((function(){s(""),window.removeEventListener("mousedown",m)}),[s]),v=Object(n.useCallback)((function(e){return function(){r&&e&&(j({variables:{symbol:r,watchlist:e||"Default"}}),m())}}),[j,r,m]),h=Object(n.useCallback)((function(e){s(e),setTimeout((function(){window.addEventListener("mousedown",m)}),500)}),[s]),O=Object(n.useMemo)((function(){return(null===t||void 0===t?void 0:t.length)?null===t||void 0===t?void 0:t.map((function(e){return Object(k.jsx)(he.a,{onClick:v(e.name),children:Object(k.jsx)(Oe.a,{primary:e.name})},e._id)})):Object(k.jsx)(he.a,{onClick:v("Default"),children:Object(k.jsx)(Oe.a,{primary:"Default"})})}),[t,v]),f=Object(n.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]);return Object(k.jsx)(u.a,{paddingLeft:4,paddingRight:4,bgcolor:d.a[600],className:pe.a.container,children:Object(k.jsxs)("div",{className:pe.a.content,children:[Object(k.jsx)(xe.a,{save:h,white:!0}),r&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:pe.a.listContainer,onMouseDown:f,children:[Object(k.jsx)(u.a,{p:2,children:Object(k.jsx)("b",{children:"Watchlists:"})}),Object(k.jsx)(fe.a,{className:pe.a.list,children:O})]})})]})})},Ce=function(){var e=Object(o.useQuery)(i.r),t=e.data,a=(e.loading,e.error,Object(n.useMemo)((function(){var e,a;return(null===t||void 0===t||null===(e=t.getDashboard)||void 0===e||null===(a=e.watchlists)||void 0===a?void 0:a.length)?t.getDashboard.watchlists.slice().sort((function(e,t){var a;return e&&t?null===e||void 0===e||null===(a=e.name)||void 0===a?void 0:a.localeCompare(null===t||void 0===t?void 0:t.name):0})):[]}),[t]));return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ge,{watchlists:a}),Object(k.jsx)("div",{className:r.a.list,children:a.map((function(e){return Object(k.jsx)(ve,{watchlist:e},e.name)}))})]})}},435:function(e,t,a){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(a,i,c):a[i]=e[i]}a.default=e,t&&t.set(e,a);return a}(a(0)),c=(o=a(377))&&o.__esModule?o:{default:o};function r(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.default=function(e){var t=i.memo(i.forwardRef((function(t,a){return i.createElement(c.default,s({},t,{ref:a}),i.createElement("path",{d:e}))})));return t.muiName="SvgIcon",t}},439:function(e,t,a){"use strict";var n=a(2),o=a(7),i=a(0),c=(a(11),a(8)),r=a(10),s=a(238),l=a(94),d=i.forwardRef((function(e,t){var a=e.children,r=e.classes,d=e.className,u=e.disableTypography,b=void 0!==u&&u,j=e.inset,m=void 0!==j&&j,v=e.primary,h=e.primaryTypographyProps,O=e.secondary,f=e.secondaryTypographyProps,y=Object(o.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),p=i.useContext(l.a).dense,x=null!=v?v:a;null==x||x.type===s.a||b||(x=i.createElement(s.a,Object(n.a)({variant:p?"body2":"body1",className:r.primary,component:"span",display:"block"},h),x));var g=O;return null==g||g.type===s.a||b||(g=i.createElement(s.a,Object(n.a)({variant:"body2",className:r.secondary,color:"textSecondary",display:"block"},f),g)),i.createElement("div",Object(n.a)({className:Object(c.a)(r.root,d,p&&r.dense,m&&r.inset,x&&g&&r.multiline),ref:t},y),x,g)}));t.a=Object(r.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(d)},443:function(e,t,a){"use strict";var n=a(2),o=a(7),i=a(0),c=(a(11),a(8)),r=a(10),s=a(15),l=i.forwardRef((function(e,t){var a=e.classes,r=e.className,l=e.color,d=void 0===l?"inherit":l,u=e.component,b=void 0===u?"span":u,j=e.fontSize,m=void 0===j?"default":j,v=Object(o.a)(e,["classes","className","color","component","fontSize"]);return i.createElement(b,Object(n.a)({className:Object(c.a)("material-icons",a.root,r,"inherit"!==d&&a["color".concat(Object(s.a)(d))],"default"!==m&&a["fontSize".concat(Object(s.a)(m))]),"aria-hidden":!0,ref:t},v))}));l.muiName="Icon",t.a=Object(r.a)((function(e){return{root:{userSelect:"none",fontSize:e.typography.pxToRem(24),width:"1em",height:"1em",overflow:"hidden",flexShrink:0},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(36)}}}),{name:"MuiIcon"})(l)},446:function(e,t,a){e.exports={list:"styles_list__2c3H7"}},447:function(e,t,a){e.exports={container:"styles_container__31wSy",header:"styles_header__qtkv9",symbolCell:"styles_symbolCell__3YOpP",symbol:"styles_symbol__2pNpM",description:"styles_description__1YgaH",rocketIcon:"styles_rocketIcon__3hYLD",chart:"styles_chart__3cRe8",openPrice:"styles_openPrice__OtUYm",currentPrice:"styles_currentPrice__3DzW8",percentageGain:"styles_percentageGain__2HvCk",up:"styles_up__KaeF6",down:"styles_down__1o_YV"}},448:function(e,t,a){e.exports={dailyChangesTable:"styles_dailyChangesTable__3UYND",percentageSum:"styles_percentageSum__3SWdl"}},450:function(e,t,a){e.exports={container:"styles_container__3u-qW"}},451:function(e,t,a){e.exports={floatingContainer:"styles_floatingContainer__z68x6"}},452:function(e,t,a){"use strict";var n=a(151),o=a(152);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a(0)),c=(0,n(a(153)).default)(i.createElement("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zM2 16h8v-2H2v2zm19.5-4.5L23 13l-6.99 7-4.51-4.5L13 14l3.01 3 5.49-5.5z"}),"PlaylistAddCheck");t.default=c},453:function(e,t,a){e.exports={floatingContainer:"styles_floatingContainer__Srpbt"}},454:function(e,t,a){e.exports={box:"styles_box__2bohd",header:"styles_header__1mTTk",symbols:"styles_symbols__2KXCM",hidden:"styles_hidden__u_Nqq"}},455:function(e,t,a){e.exports={container:"styles_container__2nV6i",content:"styles_content__3T5uU",outsideClickLayer:"styles_outsideClickLayer__3rYgR",listContainer:"styles_listContainer__1rWD7",list:"styles_list__mtGWE"}},461:function(e,t,a){"use strict";var n=a(2),o=a(7),i=a(0),c=(a(11),a(8)),r=a(180),s=a(37),l=Object(s.a)(i.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),d=Object(s.a)(i.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),u=a(20),b=Object(s.a)(i.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),j=a(15),m=a(10),v=i.createElement(d,null),h=i.createElement(l,null),O=i.createElement(b,null),f=i.forwardRef((function(e,t){var a=e.checkedIcon,s=void 0===a?v:a,l=e.classes,d=e.color,u=void 0===d?"secondary":d,b=e.icon,m=void 0===b?h:b,f=e.indeterminate,y=void 0!==f&&f,p=e.indeterminateIcon,x=void 0===p?O:p,g=e.inputProps,C=e.size,w=void 0===C?"medium":C,_=Object(o.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),M=y?x:m,k=y?x:s;return i.createElement(r.a,Object(n.a)({type:"checkbox",classes:{root:Object(c.a)(l.root,l["color".concat(Object(j.a)(u))],y&&l.indeterminate),checked:l.checked,disabled:l.disabled},color:u,inputProps:Object(n.a)({"data-indeterminate":y},g),icon:i.cloneElement(M,{fontSize:void 0===M.props.fontSize&&"small"===w?w:M.props.fontSize}),checkedIcon:i.cloneElement(k,{fontSize:void 0===k.props.fontSize&&"small"===w?w:k.props.fontSize}),ref:t},_))}));t.a=Object(m.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(f)},463:function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(0,((n=a(435))&&n.__esModule?n:{default:n}).default)("M15.8,18.5L21.8,20.1L21.4,22L12,19.5L2.6,22L2.1,20.1L8.1,18.5L2,16.9L2.5,15L11.9,17.5L21.3,15L21.8,16.9L15.8,18.5M9.5,6C8.7,6 8,6.7 8,7.5C8,8.3 8.7,9 9.5,9C10.3,9 11,8.3 11,7.5C11,6.7 10.3,6 9.5,6M14.5,6C13.7,6 13,6.7 13,7.5C13,8.3 13.7,9 14.5,9C15.3,9 16,8.3 16,7.5C16,6.7 15.3,6 14.5,6M13,11L12,9L11,11H13M12,1C8.1,1 5,4.1 5,8C5,9.9 5.8,11.6 7,12.9V16H17V12.9C18.2,11.6 19,9.9 19,8C19,4.1 15.9,1 12,1M15,12V14H14V12H13V14H11V12H10V14H9V12H9C7.8,11.1 7,9.7 7,8C7,5.2 9.2,3 12,3C14.8,3 17,5.2 17,8C17,9.6 16.2,11.1 15,12Z");t.default=o},464:function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(0,((n=a(435))&&n.__esModule?n:{default:n}).default)("M13.13 22.19L11.5 18.36C13.07 17.78 14.54 17 15.9 16.09L13.13 22.19M5.64 12.5L1.81 10.87L7.91 8.1C7 9.46 6.22 10.93 5.64 12.5M19.22 4C19.5 4 19.75 4 19.96 4.05C20.13 5.44 19.94 8.3 16.66 11.58C14.96 13.29 12.93 14.6 10.65 15.47L8.5 13.37C9.42 11.06 10.73 9.03 12.42 7.34C15.18 4.58 17.64 4 19.22 4M19.22 2C17.24 2 14.24 2.69 11 5.93C8.81 8.12 7.5 10.53 6.65 12.64C6.37 13.39 6.56 14.21 7.11 14.77L9.24 16.89C9.62 17.27 10.13 17.5 10.66 17.5C10.89 17.5 11.13 17.44 11.36 17.35C13.5 16.53 15.88 15.19 18.07 13C23.73 7.34 21.61 2.39 21.61 2.39S20.7 2 19.22 2M14.54 9.46C13.76 8.68 13.76 7.41 14.54 6.63S16.59 5.85 17.37 6.63C18.14 7.41 18.15 8.68 17.37 9.46C16.59 10.24 15.32 10.24 14.54 9.46M8.88 16.53L7.47 15.12L8.88 16.53M6.24 22L9.88 18.36C9.54 18.27 9.21 18.12 8.91 17.91L4.83 22H6.24M2 22H3.41L8.18 17.24L6.76 15.83L2 20.59V22M2 19.17L6.09 15.09C5.88 14.79 5.73 14.47 5.64 14.12L2 17.76V19.17Z");t.default=o}}]);
//# sourceMappingURL=Dashboard.648cae77.chunk.js.map